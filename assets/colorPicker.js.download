var ColorPicker={primaryElement:null,secondaryElement:null,clickFromIcon:!1,init:function(e,t){$(".colorpicker-1").spectrum({preferredFormat:"hex"}),$(".colorpicker-2").spectrum({preferredFormat:"hex"}),$(".colorpicker-card-1").length&&($(".colorpicker-card-1").spectrum({preferredFormat:"hex"}),$(".colorpicker-card-2").spectrum({preferredFormat:"hex"})),ColorPicker.primaryElement=e,ColorPicker.secondaryElement=t,ColorPicker.eventHandlers()},eventHandlers:function(){$(".color_picker_icon").on("click",function(e){ColorPicker.clickFromIcon=!0,$(this).parent().children(".sp-replacer").click(),e.stopImmediatePropagation()}),$(".qr_color_panel li").on("click",function(){$(".qr_color_panel li").removeClass("active"),$(this).addClass("active");var t=ColorPicker.rgbToHex($(this).children().children()[0].style.backgroundColor),n=ColorPicker.rgbToHex($(this).children().children()[1].style.backgroundColor);$(".colorpicker-1-input").val(t),$(".colorpicker-2-input").val(n),$(".colorpicker-1").val(t),$(".colorpicker-2").val(n),ColorPicker.changeIconColor(t,$(".colorpicker-1")),ColorPicker.changeIconColor(n,$(".colorpicker-2")),$(".colorpicker-1").spectrum({preferredFormat:"hex"}),$(".colorpicker-2").spectrum({preferredFormat:"hex"}),$("input[name=primary_color]").val(t),$("input[name=secondary_color]").val(n),setCssVar("theme-color-primary",t),setCssVar("theme-color-secondary",n)}),$(".colorpicker-1-input").on("keyup",function(e){setCssVar("theme-color-primary",e.target.value),$(".colorpicker-1").val(e.target.value),ColorPicker.changeIconColor(e.target.value,$(this)),$(".colorpicker-1").spectrum({preferredFormat:"hex"}),$("input[name=primary_color]").val(e.target.value)}),$(".colorpicker-1").on("change",function(e){setCssVar("theme-color-primary",e.target.value),ColorPicker.changeIconColor(e.target.value,$(this)),$(".colorpicker-1-input").val(e.target.value),$("input[name=primary_color]").val(e.target.value)}),$(".colorpicker-2").on("change",function(e){setCssVar("theme-color-secondary",e.target.value),ColorPicker.changeIconColor(e.target.value,$(this)),$(".colorpicker-2-input").val(e.target.value),$("input[name=secondary_color]").val(e.target.value)}),$(".colorpicker-2-input").on("keyup",function(e){setCssVar("theme-color-secondary",e.target.value),$(".colorpicker-2").val(e.target.value),ColorPicker.changeIconColor(e.target.value,$(this)),$(".colorpicker-2").spectrum({preferredFormat:"hex"}),$("input[name=secondary_color]").val(e.target.value)})},componentToHex:function(e){var t=e.toString(16);return(t.length==1?"0"+t:t).toUpperCase()},rgbToHex:function(e){return e=e.replace("rgb(",""),e=e.replace(")",""),e=e.split(","),"#"+ColorPicker.componentToHex(parseInt(e[0]))+ColorPicker.componentToHex(parseInt(e[1]))+ColorPicker.componentToHex(parseInt(e[2]))},changeIconColor:function(e,t){try{var s,o,n=ColorPicker.hexToRgb(e);if(n==null)return;s=Math.round((parseInt(n[0])*299+parseInt(n[1])*587+parseInt(n[2])*114)/1e3),o=s>125?"black":"white",t.parent().children(".color_picker_icon").css("color",o),t.parent().find(".sp-preview-inner").css("background-color",e)}catch{}},hexToRgb:function(e){e=e.substr(0,7);var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}}